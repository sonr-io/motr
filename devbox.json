{
  "$schema": "https://raw.githubusercontent.com/jetify-com/devbox/main/.schema/devbox.schema.json",
  "packages": [
    "go@1.24",
    "nodejs@20",
    "bun@1",
    "gum@latest"
  ],
  "env": {},
  "shell": {
    "init_hook": [
      "gum spin -- bun install",
      "export VERSION_FRONTEND=$(cd apps/frontend; cz version -p)",
      "export VERSION_ENCLAVE=$(cd libs/enclave; cz version -p)",
      "export VERSION_VAULT=$(cd libs/vault; cz version -p)",
      "export VERSION_ES=$(cd pkgs/es; cz version -p)",
      "export VERSION_UI=$(cd pkgs/ui; cz version -p)",
      "export TAG_FRONTEND=@sonr.io/frontend@$VERSION_FRONTEND",
      "export TAG_ENCLAVE=@sonr.io/enclave@$VERSION_ENCLAVE",
      "export TAG_VAULT=@sonr.io/vault@$VERSION_VAULT",
      "export TAG_ES=@sonr.io/sdk@$VERSION_ES",
      "export TAG_UI=@sonr.io/ui@$VERSION_UI",
      "export BUMP_FRONTEND=$(git diff --quiet $TAG_FRONTEND -- apps/frontend/ && echo false || echo true)",
      "export BUMP_ENCLAVE=$(git diff --quiet $TAG_ENCLAVE -- libs/enclave/ && echo false || echo true)",
      "export BUMP_VAULT=$(git diff --quiet $TAG_VAULT -- libs/vault/ && echo false || echo true)",
      "export BUMP_ES=$(git diff --quiet $TAG_ES -- pkgs/es/ && echo false || echo true)",
      "export BUMP_UI=$(git diff --quiet $TAG_UI -- pkgs/ui/ && echo false || echo true)",
      "echo $BUMP_FRONTEND",
      "echo $BUMP_ENCLAVE",
      "echo $BUMP_VAULT",
      "echo $BUMP_ES",
      "echo $BUMP_UI"
    ],
    "scripts": {
      "build": "bun run build",
      "test": "bun run test",
      "deploy": "bun run deploy"
    }
  }
}
